window.addEventListener('load', async () => {
    provider = new ethers.providers.Web3Provider(web3.currentProvider);

    await provider.send("eth_requestAccounts", []);

    $("#send-token-loader").hide();
    $("#receive-token-loader").hide();
});

var abi1 = JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_initialBlocktime","type":"uint256"},{"internalType":"uint256","name":"_blocktimePerIteration","type":"uint256"},{"internalType":"uint256","name":"_maximumIteration","type":"uint256"},{"internalType":"uint256","name":"_tokenPerWin","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"countWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getMyBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMyCommitment","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[2]","name":"a","type":"uint256[2]"},{"internalType":"uint256[2][2]","name":"b","type":"uint256[2][2]"},{"internalType":"uint256[2]","name":"c","type":"uint256[2]"},{"internalType":"uint256","name":"_next_population_commitment","type":"uint256"},{"internalType":"uint256","name":"_fitness","type":"uint256"}],"name":"proposeSolution","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_commitment","type":"uint256"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"}]');

var abi = JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_initialBlocktime","type":"uint256"},{"internalType":"uint256","name":"_blocktimePerIteration","type":"uint256"},{"internalType":"uint256","name":"_maximumIteration","type":"uint256"},{"internalType":"uint256","name":"_tokenPerWin","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"countWins","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getMyBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMyCommitment","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[2]","name":"a","type":"uint256[2]"},{"internalType":"uint256[2][2]","name":"b","type":"uint256[2][2]"},{"internalType":"uint256[2]","name":"c","type":"uint256[2]"},{"internalType":"uint256","name":"_next_population_commitment","type":"uint256"},{"internalType":"uint256","name":"_fitness","type":"uint256"}],"name":"proposeSolution","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_commitment","type":"uint256"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"}]');

var bytecode1 = "60806040523480156200001157600080fd5b5060405162003b4138038062003b418339818101604052810190620000379190620000cc565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600381905550836004819055508260058190555080600181905550600354600154620000a5919062000138565b60028190555050505050620001ec565b600081519050620000c681620001d2565b92915050565b60008060008060808587031215620000e357600080fd5b6000620000f387828801620000b5565b94505060206200010687828801620000b5565b93505060406200011987828801620000b5565b92505060606200012c87828801620000b5565b91505092959194509250565b6000620001458262000199565b9150620001528362000199565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156200018e576200018d620001a3565b5b828202905092915050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b620001dd8162000199565b8114620001e957600080fd5b50565b61394580620001fc6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806312b58349146100675780634c73890914610085578063a39db589146100a3578063bc6561e6146100bf578063cfe0bf8b146100dd578063f207564e146100fb575b600080fd5b61006f610117565b60405161007c9190611259565b60405180910390f35b61008d6101b1565b60405161009a9190611259565b60405180910390f35b6100bd60048036038101906100b89190610d5c565b610293565b005b6100c76106d3565b6040516100d49190611259565b60405180910390f35b6100e561094a565b6040516100f29190611259565b60405180910390f35b61011560048036038101906101109190610dff565b610a2c565b005b60003360008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146101a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019f906111f9565b60405180910390fd5b60025491505090565b60003360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff1615151461024a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024190611239565b60405180910390fd5b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001015491505090565b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff1615151461032a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032190611239565b60405180910390fd5b33600660008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002015443116103af576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103a690611219565b60405180910390fd5b60006040516103bd90610c11565b604051809103906000f0801580156103d9573d6000803e3d6000fd5b50905060008173ffffffffffffffffffffffffffffffffffffffff16633aaae7288a8a8a6040518060800160405280600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015481526020018c81526020018b815260200160018152506040518563ffffffff1660e01b81526004016104809493929190611152565b60206040518083038186803b15801561049857600080fd5b505afa1580156104ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d09190610dd6565b905080156106c8576000600554600454436104eb9190611475565b6104f591906113ea565b90506005546001826105079190611394565b610511919061141b565b60045461051e9190611394565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018190555086600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001819055506009600082815260200190815260200160002060009054906101000a900460ff1661063f57856007600083815260200190815260200160002081905550336008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506106c6565b60076000828152602001908152602001600020548610156106c557856007600083815260200190815260200160002081905550336008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b505b505050505050505050565b60006003546005546106e5919061141b565b6004546106f29190611394565b4311610733576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161072a90611199565b60405180910390fd5b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff161515146107ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107c190611239565b60405180910390fd5b6000805b6003548110156108b5573373ffffffffffffffffffffffffffffffffffffffff166008600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108a25760006008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060018261089f9190611394565b91505b80806108ad906114bf565b9150506107ce565b50600154816108c4919061141b565b600260008282546108d59190611475565b92505081905550600154816108ea919061141b565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101600082825461093b9190611394565b92505081905550809250505090565b60003360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff161515146109e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109da90611239565b60405180910390fd5b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015491505090565b6004544310610a70576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a67906111b9565b60405180910390fd5b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16151514158015610b2157508073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b610b60576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b57906111d9565b60405180910390fd5b6000604051806080016040528084815260200160008152602001600454815260200160011515815250905080600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000155602082015181600101556040820151816002015560608201518160030160006101000a81548160ff021916908315150217905550905050505050565b61234c806115c483390190565b6000610c31610c2c846112a5565b611274565b90508082856040860282011115610c4757600080fd5b60005b85811015610c775781610c5d8882610d0b565b845260208401935060408301925050600181019050610c4a565b5050509392505050565b6000610c94610c8f846112cb565b611274565b90508082856020860282011115610caa57600080fd5b60005b85811015610cda5781610cc08882610d47565b845260208401935060208301925050600181019050610cad565b5050509392505050565b600082601f830112610cf557600080fd5b6002610d02848285610c1e565b91505092915050565b600082601f830112610d1c57600080fd5b6002610d29848285610c81565b91505092915050565b600081519050610d4181611595565b92915050565b600081359050610d56816115ac565b92915050565b60008060008060006101408688031215610d7557600080fd5b6000610d8388828901610d0b565b9550506040610d9488828901610ce4565b94505060c0610da588828901610d0b565b935050610100610db788828901610d47565b925050610120610dc988828901610d47565b9150509295509295909350565b600060208284031215610de857600080fd5b6000610df684828501610d32565b91505092915050565b600060208284031215610e1157600080fd5b6000610e1f84828501610d47565b91505092915050565b6000610e348383610eaf565b60408301905092915050565b6000610e4c8383611134565b60208301905092915050565b610e618161130f565b610e6b8184611357565b9250610e76826112f1565b8060005b83811015610ea7578151610e8e8782610e28565b9650610e9983611330565b925050600181019050610e7a565b505050505050565b610eb88161131a565b610ec28184611362565b9250610ecd826112fb565b8060005b83811015610efe578151610ee58782610e40565b9650610ef08361133d565b925050600181019050610ed1565b505050505050565b610f0f8161131a565b610f19818461136d565b9250610f24826112fb565b8060005b83811015610f55578151610f3c8782610e40565b9650610f478361133d565b925050600181019050610f28565b505050505050565b610f6681611325565b610f708184611378565b9250610f7b82611305565b8060005b83811015610fac578151610f938782610e40565b9650610f9e8361134a565b925050600181019050610f7f565b505050505050565b6000610fc1600d83611383565b91507f436c61696d20436c6f73656421000000000000000000000000000000000000006000830152602082019050919050565b6000611001601483611383565b91507f526567697374726174696f6e20436c6f736564210000000000000000000000006000830152602082019050919050565b6000611041601983611383565b91507f4e6f7420456c696769626c6520546f20526567697374657221000000000000006000830152602082019050919050565b6000611081601283611383565b91507f4e6f742050726f626c656d204f776e65722100000000000000000000000000006000830152602082019050919050565b60006110c1601883611383565b91507f4e6f7420456c696769626c6520546f2050726f706f73652100000000000000006000830152602082019050919050565b6000611101601383611383565b91507f4e6f742050726f626c656d20536f6c76657221000000000000000000000000006000830152602082019050919050565b61113d816114b5565b82525050565b61114c816114b5565b82525050565b6000610180820190506111686000830187610f06565b6111756040830186610e58565b61118260c0830185610f06565b611190610100830184610f5d565b95945050505050565b600060208201905081810360008301526111b281610fb4565b9050919050565b600060208201905081810360008301526111d281610ff4565b9050919050565b600060208201905081810360008301526111f281611034565b9050919050565b6000602082019050818103600083015261121281611074565b9050919050565b60006020820190508181036000830152611232816110b4565b9050919050565b60006020820190508181036000830152611252816110f4565b9050919050565b600060208201905061126e6000830184611143565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561129b5761129a611566565b5b8060405250919050565b600067ffffffffffffffff8211156112c0576112bf611566565b5b602082029050919050565b600067ffffffffffffffff8211156112e6576112e5611566565b5b602082029050919050565b6000819050919050565b6000819050919050565b6000819050919050565b600060029050919050565b600060029050919050565b600060049050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600081905092915050565b600081905092915050565b600081905092915050565b600081905092915050565b600082825260208201905092915050565b600061139f826114b5565b91506113aa836114b5565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156113df576113de611508565b5b828201905092915050565b60006113f5826114b5565b9150611400836114b5565b9250826114105761140f611537565b5b828204905092915050565b6000611426826114b5565b9150611431836114b5565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561146a57611469611508565b5b828202905092915050565b6000611480826114b5565b915061148b836114b5565b92508282101561149e5761149d611508565b5b828203905092915050565b60008115159050919050565b6000819050919050565b60006114ca826114b5565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156114fd576114fc611508565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61159e816114a9565b81146115a957600080fd5b50565b6115b5816114b5565b81146115c057600080fd5b5056fe608060405234801561001057600080fd5b5061232c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80633aaae7281461003b578063799afa761461006b575b600080fd5b61005560048036038101906100509190611f6e565b61009b565b6040516100629190612020565b60405180910390f35b61008560048036038101906100809190611fd3565b61054f565b6040516100929190612020565b60405180910390f35b60006100a5611b80565b6040518060400160405280876000600281106100ea577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181526020018760016002811061012e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518152508160000181905250604051806040016040528060405180604001604052808860006002811061018e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201516000600281106101cc577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151815260200188600060028110610210577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015160016002811061024e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081526020016040518060400160405280886001600281106102a0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201516000600281106102de577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151815260200188600160028110610322577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151600160028110610360577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081525081602001819052506040518060400160405280856000600281106103b8577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518152602001856001600281106103fc577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081604001819052506000600467ffffffffffffffff81111561044f577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405190808252806020026020018201604052801561047d5781602001602082028036833780820191505090505b50905060005b6004811015610522578481600481106104c5577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151828281518110610503577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050808061051a906121d8565b915050610483565b50600061052f828461068f565b141561054057600192505050610547565b6000925050505b949350505050565b600080600467ffffffffffffffff811115610593577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156105c15781602001602082028036833780820191505090505b50905060005b600481101561066657838160048110610609577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151828281518110610647577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050808061065e906121d8565b9150506105c7565b506000610673828661068f565b1415610683576001915050610689565b60009150505b92915050565b6000807f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001905060006106bf6108be565b9050806080015151600186516106d591906120de565b146106df57600080fd5b60006040518060400160405280600081526020016000815250905060005b865181101561080a5783878281518110610740577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101511061075257600080fd5b6107f5826107f0856080015160018561076b91906120de565b815181106107a2577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101518a85815181106107e3577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151610f0d565b611026565b91508080610802906121d8565b9150506106fd565b5061085a81836080015160008151811061084d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151611026565b90506108a0856000015186602001516108728461118b565b85604001516108848a6040015161118b565b8760600151610896896000015161118b565b8960200151611230565b6108b057600193505050506108b8565b600093505050505b92915050565b6108c6611bb3565b60405180604001604052807f1165c114d696ce962b2ed295a1c6a744c6fbfbbfc7b74092ef9907e99485f02881526020017f23d2aa3f68ac68181e726f0f6bdb49d370c94843106181478309dac7e95cf0158152508160000181905250604051806040016040528060405180604001604052807f2e519aba24ffa43fcf201a26b511a3e7db9e953766be236cfa07bd7c7189f0fd81526020017f1a485d622d1ecab9668aa09af7c5d5d25bb324cbd9ecc62688311c6eb69f165e815250815260200160405180604001604052807f2a10f21420f081057de9934f21aad7001576ec642956ff18256ad5d42b23783081526020017f2149e3817fba63cf0f80e78a7932e60aab8772bccbfab5611762bacdcfe8085f8152508152508160200181905250604051806040016040528060405180604001604052807f12e43026db74d63b5564ce9fe8f9b384c8c8596a37e2cb34bfaa739e09f3229981526020017f1038849690aaaa862a7774f60ecd53b66c92d82270fcecad63cda178c982eab1815250815260200160405180604001604052807f18ecb02daa57e91cfc9cd50c4f04a8d6c3a83bf33f7a23e1651be9319fc2a05881526020017e0bcff4a8ceb1ceb224fe06e6c138e116f52bcf2ae0688b0dc30249c97c4f508152508152508160400181905250604051806040016040528060405180604001604052807f03970233b9eac58fa6d8331cbfed18c977b7eedd30d7ee7a838632094e23f1ff81526020017f0127dec068c7d6d86ff30cc6f21104520cde7c7919a5d2cf2a9c6df601e0eabe815250815260200160405180604001604052807f210a6d17ac9c487c4f0517ae5416305cf8e05007ff6457835d8469485c4d9de581526020017f0ecea347739c50a88a241e0114d67e544becd887db27f07c9d3e9b2cf5b42e478152508152508160600181905250600567ffffffffffffffff811115610bb2577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051908082528060200260200182016040528015610beb57816020015b610bd8611bfa565b815260200190600190039081610bd05790505b50816080018190525060405180604001604052807f0a83b3b2b3539a692154aab64d56070b84a3c783d71b3d996eea9d1ceb3ffd5981526020017f2acc8c18fe395ed3b7ab8dbb88581ea3dd8edb14022049f31abb022ffa3fd19e8152508160800151600081518110610c87577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f1138d3f9a0f315d181a7a4b69831e3d467bc9745721a03489cd7305bfeb0c3b881526020017f2e4433b664fe39d0577c8da0eec71431c5d2c6563e87b3f9b446d4145a6adc5f8152508160800151600181518110610d25577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f0dcd73647362a193444db137e786752886d9866a89d2daa2fa076e3279ab51ac81526020017f270f3473f59cebc496645287622e0cf3af3c08f23d5345b5e6b855804f0de2268152508160800151600281518110610dc3577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f0a030bb0590895189150feec7b5634ba630065e58b0e86a31419c58338aa669281526020017f12204cf3e91e7f1fe27e7d61563dc3311517f9c98a1142a5f9a729dd3525ffc28152508160800151600381518110610e61577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f1025535511b051ee695e9a33597f2704896bfd2014dd1833abaeb81d517af09b81526020017f253f9258eed317d5c45ae6c12e79cc950be9d4d3e8e49ea3c50b1e5caf0b71ec8152508160800151600481518110610eff577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525090565b610f15611bfa565b610f1d611c14565b836000015181600060038110610f5c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050836020015181600160038110610fa4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020181815250508281600260038110610fe8577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050600060608360808460076107d05a03fa9050806000811461101157611013565bfe5b508061101e57600080fd5b505092915050565b61102e611bfa565b611036611c36565b836000015181600060048110611075577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020181815250508360200151816001600481106110bd577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050826000015181600260048110611105577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201818152505082602001518160036004811061114d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050600060608360c08460066107d05a03fa9050806000811461117657611178565bfe5b508061118357600080fd5b505092915050565b611193611bfa565b60007f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd479050600083600001511480156111d0575060008360200151145b156111f457604051806040016040528060008152602001600081525091505061122b565b6040518060400160405280846000015181526020018285602001516112199190612221565b83611224919061218e565b8152509150505b919050565b600080600467ffffffffffffffff811115611274577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156112ad57816020015b61129a611bfa565b8152602001906001900390816112925790505b5090506000600467ffffffffffffffff8111156112f3577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405190808252806020026020018201604052801561132c57816020015b611319611c58565b8152602001906001900390816113115790505b5090508a8260008151811061136a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525088826001815181106113b0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525086826002815181106113f6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181905250848260038151811061143c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101819052508981600081518110611482577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525087816001815181106114c8577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181905250858160028151811061150e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101819052508381600381518110611554577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101819052506115698282611579565b9250505098975050505050505050565b6000815183511461158957600080fd5b600083519050600060068261159e9190612134565b905060008167ffffffffffffffff8111156115e2577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156116105781602001602082028036833780820191505090505b50905060005b83811015611af557868181518110611657577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001518260006006846116739190612134565b61167d91906120de565b815181106116b4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508681815181106116f9577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151602001518260016006846117159190612134565b61171f91906120de565b81518110611756577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061179b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001516001600281106117e0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260026006846117f59190612134565b6117ff91906120de565b81518110611836577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061187b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001516000600281106118c0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260036006846118d59190612134565b6118df91906120de565b81518110611916577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061195b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151602001516001600281106119a0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260046006846119b59190612134565b6119bf91906120de565b815181106119f6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050858181518110611a3b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015160200151600060028110611a80577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151826005600684611a959190612134565b611a9f91906120de565b81518110611ad6577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508080611aed906121d8565b915050611616565b50611afe611c7e565b6000602082602086026020860160086107d05a03fa90508060008114611b2357611b25565bfe5b5080611b3057600080fd5b600082600060018110611b6c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015114159550505050505092915050565b6040518060600160405280611b93611bfa565b8152602001611ba0611c58565b8152602001611bad611bfa565b81525090565b6040518060a00160405280611bc6611bfa565b8152602001611bd3611c58565b8152602001611be0611c58565b8152602001611bed611c58565b8152602001606081525090565b604051806040016040528060008152602001600081525090565b6040518060600160405280600390602082028036833780820191505090505090565b6040518060800160405280600490602082028036833780820191505090505090565b6040518060400160405280611c6b611ca0565b8152602001611c78611ca0565b81525090565b6040518060200160405280600190602082028036833780820191505090505090565b6040518060400160405280600290602082028036833780820191505090505090565b6000611cd5611cd08461206c565b61203b565b90508082856040860282011115611ceb57600080fd5b60005b85811015611d1b5781611d018882611e12565b845260208401935060408301925050600181019050611cee565b5050509392505050565b6000611d38611d3384612092565b61203b565b90508082856020860282011115611d4e57600080fd5b60005b85811015611d7e5781611d648882611f59565b845260208401935060208301925050600181019050611d51565b5050509392505050565b6000611d9b611d96846120b8565b61203b565b90508082856020860282011115611db157600080fd5b60005b85811015611de15781611dc78882611f59565b845260208401935060208301925050600181019050611db4565b5050509392505050565b600082601f830112611dfc57600080fd5b6002611e09848285611cc2565b91505092915050565b600082601f830112611e2357600080fd5b6002611e30848285611d25565b91505092915050565b600082601f830112611e4a57600080fd5b6004611e57848285611d88565b91505092915050565b600060408284031215611e7257600080fd5b611e7c604061203b565b90506000611e8c84828501611f59565b6000830152506020611ea084828501611f59565b60208301525092915050565b600060808284031215611ebe57600080fd5b611ec8604061203b565b90506000611ed884828501611e12565b6000830152506040611eec84828501611e12565b60208301525092915050565b60006101008284031215611f0b57600080fd5b611f15606061203b565b90506000611f2584828501611e60565b6000830152506040611f3984828501611eac565b60208301525060c0611f4d84828501611e60565b60408301525092915050565b600081359050611f68816122df565b92915050565b6000806000806101808587031215611f8557600080fd5b6000611f9387828801611e12565b9450506040611fa487828801611deb565b93505060c0611fb587828801611e12565b925050610100611fc787828801611e39565b91505092959194509250565b6000806101808385031215611fe757600080fd5b6000611ff585828601611ef8565b92505061010061200785828601611e39565b9150509250929050565b61201a816121c2565b82525050565b60006020820190506120356000830184612011565b92915050565b6000604051905081810181811067ffffffffffffffff82111715612062576120616122b0565b5b8060405250919050565b600067ffffffffffffffff821115612087576120866122b0565b5b602082029050919050565b600067ffffffffffffffff8211156120ad576120ac6122b0565b5b602082029050919050565b600067ffffffffffffffff8211156120d3576120d26122b0565b5b602082029050919050565b60006120e9826121ce565b91506120f4836121ce565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561212957612128612252565b5b828201905092915050565b600061213f826121ce565b915061214a836121ce565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561218357612182612252565b5b828202905092915050565b6000612199826121ce565b91506121a4836121ce565b9250828210156121b7576121b6612252565b5b828203905092915050565b60008115159050919050565b6000819050919050565b60006121e3826121ce565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82141561221657612215612252565b5b600182019050919050565b600061222c826121ce565b9150612237836121ce565b92508261224757612246612281565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6122e8816121ce565b81146122f357600080fd5b5056fea264697066735822122076388a12efd980d1cfab5447e265b262672625df13bf7adfcfe9ebb1b5eea77364736f6c63430008000033a26469706673582212206909bf94242125f78e38e7ca91565e933c673e20289f6ad8288c38f22a251d2364736f6c63430008000033";

var bytecode = "60806040523480156200001157600080fd5b5060405162003b4238038062003b428339818101604052810190620000379190620000cc565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600381905550836004819055508260058190555080600181905550600354600154620000a5919062000138565b60028190555050505050620001ec565b600081519050620000c681620001d2565b92915050565b60008060008060808587031215620000e357600080fd5b6000620000f387828801620000b5565b94505060206200010687828801620000b5565b93505060406200011987828801620000b5565b92505060606200012c87828801620000b5565b91505092959194509250565b6000620001458262000199565b9150620001528362000199565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156200018e576200018d620001a3565b5b828202905092915050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b620001dd8162000199565b8114620001e957600080fd5b50565b61394680620001fc6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806312b58349146100675780634c73890914610085578063a39db589146100a3578063bc6561e6146100bf578063cfe0bf8b146100dd578063f207564e146100fb575b600080fd5b61006f610117565b60405161007c9190611259565b60405180910390f35b61008d6101b1565b60405161009a9190611259565b60405180910390f35b6100bd60048036038101906100b89190610d5c565b610293565b005b6100c76106d3565b6040516100d49190611259565b60405180910390f35b6100e561094a565b6040516100f29190611259565b60405180910390f35b61011560048036038101906101109190610dff565b610a2c565b005b60003360008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146101a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161019f906111f9565b60405180910390fd5b60025491505090565b60003360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff1615151461024a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024190611239565b60405180910390fd5b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001015491505090565b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff1615151461032a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032190611239565b60405180910390fd5b33600660008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002015443116103af576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103a690611219565b60405180910390fd5b60006040516103bd90610c11565b604051809103906000f0801580156103d9573d6000803e3d6000fd5b50905060008173ffffffffffffffffffffffffffffffffffffffff16633aaae7288a8a8a6040518060800160405280600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015481526020018c81526020018b815260200160018152506040518563ffffffff1660e01b81526004016104809493929190611152565b60206040518083038186803b15801561049857600080fd5b505afa1580156104ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d09190610dd6565b905080156106c8576000600554600454436104eb9190611475565b6104f591906113ea565b90506005546001826105079190611394565b610511919061141b565b60045461051e9190611394565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018190555086600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001819055506009600082815260200190815260200160002060009054906101000a900460ff1661063f57856007600083815260200190815260200160002081905550336008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506106c6565b60076000828152602001908152602001600020548610156106c557856007600083815260200190815260200160002081905550336008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5b505b505050505050505050565b60006003546005546106e5919061141b565b6004546106f29190611394565b4311610733576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161072a90611199565b60405180910390fd5b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff161515146107ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107c190611239565b60405180910390fd5b6000805b6003548110156108b5573373ffffffffffffffffffffffffffffffffffffffff166008600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156108a25760006008600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060018261089f9190611394565b91505b80806108ad906114bf565b9150506107ce565b50600154816108c4919061141b565b600260008282546108d59190611475565b92505081905550600154816108ea919061141b565b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101600082825461093b9190611394565b92505081905550809250505090565b60003360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff161515146109e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109da90611239565b60405180910390fd5b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000015491505090565b6004544310610a70576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a67906111b9565b60405180910390fd5b3360011515600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160009054906101000a900460ff16151514158015610b2157508073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b610b60576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b57906111d9565b60405180910390fd5b6000604051806080016040528084815260200160008152602001600454815260200160011515815250905080600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000155602082015181600101556040820151816002015560608201518160030160006101000a81548160ff021916908315150217905550905050505050565b61234d806115c483390190565b6000610c31610c2c846112a5565b611274565b90508082856040860282011115610c4757600080fd5b60005b85811015610c775781610c5d8882610d0b565b845260208401935060408301925050600181019050610c4a565b5050509392505050565b6000610c94610c8f846112cb565b611274565b90508082856020860282011115610caa57600080fd5b60005b85811015610cda5781610cc08882610d47565b845260208401935060208301925050600181019050610cad565b5050509392505050565b600082601f830112610cf557600080fd5b6002610d02848285610c1e565b91505092915050565b600082601f830112610d1c57600080fd5b6002610d29848285610c81565b91505092915050565b600081519050610d4181611595565b92915050565b600081359050610d56816115ac565b92915050565b60008060008060006101408688031215610d7557600080fd5b6000610d8388828901610d0b565b9550506040610d9488828901610ce4565b94505060c0610da588828901610d0b565b935050610100610db788828901610d47565b925050610120610dc988828901610d47565b9150509295509295909350565b600060208284031215610de857600080fd5b6000610df684828501610d32565b91505092915050565b600060208284031215610e1157600080fd5b6000610e1f84828501610d47565b91505092915050565b6000610e348383610eaf565b60408301905092915050565b6000610e4c8383611134565b60208301905092915050565b610e618161130f565b610e6b8184611357565b9250610e76826112f1565b8060005b83811015610ea7578151610e8e8782610e28565b9650610e9983611330565b925050600181019050610e7a565b505050505050565b610eb88161131a565b610ec28184611362565b9250610ecd826112fb565b8060005b83811015610efe578151610ee58782610e40565b9650610ef08361133d565b925050600181019050610ed1565b505050505050565b610f0f8161131a565b610f19818461136d565b9250610f24826112fb565b8060005b83811015610f55578151610f3c8782610e40565b9650610f478361133d565b925050600181019050610f28565b505050505050565b610f6681611325565b610f708184611378565b9250610f7b82611305565b8060005b83811015610fac578151610f938782610e40565b9650610f9e8361134a565b925050600181019050610f7f565b505050505050565b6000610fc1600d83611383565b91507f436c61696d20436c6f73656421000000000000000000000000000000000000006000830152602082019050919050565b6000611001601483611383565b91507f526567697374726174696f6e20436c6f736564210000000000000000000000006000830152602082019050919050565b6000611041601983611383565b91507f4e6f7420456c696769626c6520546f20526567697374657221000000000000006000830152602082019050919050565b6000611081601283611383565b91507f4e6f742050726f626c656d204f776e65722100000000000000000000000000006000830152602082019050919050565b60006110c1601883611383565b91507f4e6f7420456c696769626c6520546f2050726f706f73652100000000000000006000830152602082019050919050565b6000611101601383611383565b91507f4e6f742050726f626c656d20536f6c76657221000000000000000000000000006000830152602082019050919050565b61113d816114b5565b82525050565b61114c816114b5565b82525050565b6000610180820190506111686000830187610f06565b6111756040830186610e58565b61118260c0830185610f06565b611190610100830184610f5d565b95945050505050565b600060208201905081810360008301526111b281610fb4565b9050919050565b600060208201905081810360008301526111d281610ff4565b9050919050565b600060208201905081810360008301526111f281611034565b9050919050565b6000602082019050818103600083015261121281611074565b9050919050565b60006020820190508181036000830152611232816110b4565b9050919050565b60006020820190508181036000830152611252816110f4565b9050919050565b600060208201905061126e6000830184611143565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561129b5761129a611566565b5b8060405250919050565b600067ffffffffffffffff8211156112c0576112bf611566565b5b602082029050919050565b600067ffffffffffffffff8211156112e6576112e5611566565b5b602082029050919050565b6000819050919050565b6000819050919050565b6000819050919050565b600060029050919050565b600060029050919050565b600060049050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600081905092915050565b600081905092915050565b600081905092915050565b600081905092915050565b600082825260208201905092915050565b600061139f826114b5565b91506113aa836114b5565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156113df576113de611508565b5b828201905092915050565b60006113f5826114b5565b9150611400836114b5565b9250826114105761140f611537565b5b828204905092915050565b6000611426826114b5565b9150611431836114b5565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561146a57611469611508565b5b828202905092915050565b6000611480826114b5565b915061148b836114b5565b92508282101561149e5761149d611508565b5b828203905092915050565b60008115159050919050565b6000819050919050565b60006114ca826114b5565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156114fd576114fc611508565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61159e816114a9565b81146115a957600080fd5b50565b6115b5816114b5565b81146115c057600080fd5b5056fe608060405234801561001057600080fd5b5061232d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80633aaae7281461003b578063799afa761461006b575b600080fd5b61005560048036038101906100509190611f6f565b61009b565b6040516100629190612021565b60405180910390f35b61008560048036038101906100809190611fd4565b61054f565b6040516100929190612021565b60405180910390f35b60006100a5611b81565b6040518060400160405280876000600281106100ea577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181526020018760016002811061012e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518152508160000181905250604051806040016040528060405180604001604052808860006002811061018e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201516000600281106101cc577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151815260200188600060028110610210577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015160016002811061024e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081526020016040518060400160405280886001600281106102a0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201516000600281106102de577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151815260200188600160028110610322577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151600160028110610360577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081525081602001819052506040518060400160405280856000600281106103b8577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518152602001856001600281106103fc577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015181525081604001819052506000600467ffffffffffffffff81111561044f577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405190808252806020026020018201604052801561047d5781602001602082028036833780820191505090505b50905060005b6004811015610522578481600481106104c5577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151828281518110610503577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050808061051a906121d9565b915050610483565b50600061052f828461068f565b141561054057600192505050610547565b6000925050505b949350505050565b600080600467ffffffffffffffff811115610593577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156105c15781602001602082028036833780820191505090505b50905060005b600481101561066657838160048110610609577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151828281518110610647577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050808061065e906121d9565b9150506105c7565b506000610673828661068f565b1415610683576001915050610689565b60009150505b92915050565b6000807f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001905060006106bf6108be565b9050806080015151600186516106d591906120df565b146106df57600080fd5b60006040518060400160405280600081526020016000815250905060005b865181101561080a5783878281518110610740577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101511061075257600080fd5b6107f5826107f0856080015160018561076b91906120df565b815181106107a2577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101518a85815181106107e3577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151610f0e565b611027565b91508080610802906121d9565b9150506106fd565b5061085a81836080015160008151811061084d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151611027565b90506108a0856000015186602001516108728461118c565b85604001516108848a6040015161118c565b8760600151610896896000015161118c565b8960200151611231565b6108b057600193505050506108b8565b600093505050505b92915050565b6108c6611bb4565b60405180604001604052807f1f3e9687e56aa81bb5694e76ffe25015ad5ce2e8cd64566c952e91e32c0ada7781526020017f20567029b1e31f1e0763dc189b329d2f387d5a16d73417f15698fcecffe605078152508160000181905250604051806040016040528060405180604001604052807f1ef78b74f6aa56bd948e4f2fed4054734b68bc327ca1d1d095f54448d8864f7f81526020017f0f81786e2b47d0437d383f795269cb373db34aa96c6854de59fcd3316ce3d882815250815260200160405180604001604052807f27dacd3058eb1468a40c1da765680087e57b9f90d1c704205a449e0b937a888e81526020017f116acd34616234743dbc962aa80be26a3707564081f96eafac3ee5caab3e4ed38152508152508160200181905250604051806040016040528060405180604001604052807f17bf61dc10d2f4c341924b6fa7cd7fc7b06becebcb5267b8725280009c194f9e81526020017f1197a7f18b0dff2f48ae7e3a57db9db8809ce791eceb0b13229ad8809ba8a752815250815260200160405180604001604052807f1791928cab4dedf126ff74e696d6f6e7dd19bf423bfd0fdae9c4ab2cb503f87381526020017f2b444bd3c1b586aedb098b5f80f3cedd0e9421fd6654558a2523f59b8bbf18518152508152508160400181905250604051806040016040528060405180604001604052807f0bea98453f18544747e3474ef5049b798bd040a8211673b0e47ddb99962a066681526020017f091550db92554885ea76f2c2fb644264d2035167d2d5b07e7b73cc1cf9c4729b815250815260200160405180604001604052807f1eee642436403cd336558209dfc6aa16fab886951299affa3d8608657289ef9381526020017f29fc1213a751aaf2769b25e8cd98b750b6d4e17d95bda6fa04b54e70f868f80f8152508152508160600181905250600567ffffffffffffffff811115610bb3577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051908082528060200260200182016040528015610bec57816020015b610bd9611bfb565b815260200190600190039081610bd15790505b50816080018190525060405180604001604052807f2b88b2e30ab5cda9b31579bb040098d3e8841cf7b4e3a94f62000e6967c1322681526020017f188bf4d842fd85b02fa2eb0c0a2418cbaac2dde5e18e1579ff2b5626ee47e3978152508160800151600081518110610c88577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f013143c4000dd7c3517f05c75c99e2ba676f2c18c2c0b989c1e3f096caa93cd881526020017f0b86852ed6402d46f2349b2a962b576fc5a90026d3e23dba1c632217b4e5cbcf8152508160800151600181518110610d26577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f17e0fdb54059a7a98a2987b30054362d46b3807e5f4e74904f93e28e301049b481526020017f1cdc6cd762f20139fca70fbaf2e5220eadd4e13452d0d9fd7b673b7bc8355e248152508160800151600281518110610dc4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f26b5f55f9471653663309c7a9160b935e58a4b8f329d186bcf3ee42bf4dc567381526020017f1ca4d5d47f596e4f7b31f1606ea55013d6db7676c94914aec4016eaffc7194d08152508160800151600381518110610e62577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525060405180604001604052807f08c6f4bdf1beda84e9c8a87a5abacdf0530347734e3e39bd859fa7818b3f967881526020017f2aede5d74b7185d152052e2bd738c00d0b6bf511d36bbce803f1b35fb55be3fd8152508160800151600481518110610f00577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525090565b610f16611bfb565b610f1e611c15565b836000015181600060038110610f5d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050836020015181600160038110610fa5577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020181815250508281600260038110610fe9577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050600060608360808460076107d05a03fa9050806000811461101257611014565bfe5b508061101f57600080fd5b505092915050565b61102f611bfb565b611037611c37565b836000015181600060048110611076577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020181815250508360200151816001600481106110be577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050826000015181600260048110611106577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201818152505082602001518160036004811061114e577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002018181525050600060608360c08460066107d05a03fa9050806000811461117757611179565bfe5b508061118457600080fd5b505092915050565b611194611bfb565b60007f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd479050600083600001511480156111d1575060008360200151145b156111f557604051806040016040528060008152602001600081525091505061122c565b60405180604001604052808460000151815260200182856020015161121a9190612222565b83611225919061218f565b8152509150505b919050565b600080600467ffffffffffffffff811115611275577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156112ae57816020015b61129b611bfb565b8152602001906001900390816112935790505b5090506000600467ffffffffffffffff8111156112f4577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405190808252806020026020018201604052801561132d57816020015b61131a611c59565b8152602001906001900390816113125790505b5090508a8260008151811061136b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525088826001815181106113b1577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525086826002815181106113f7577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181905250848260038151811061143d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101819052508981600081518110611483577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525087816001815181106114c9577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181905250858160028151811061150f577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101819052508381600381518110611555577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018190525061156a828261157a565b9250505098975050505050505050565b6000815183511461158a57600080fd5b600083519050600060068261159f9190612135565b905060008167ffffffffffffffff8111156115e3577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280602002602001820160405280156116115781602001602082028036833780820191505090505b50905060005b83811015611af657868181518110611658577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001518260006006846116749190612135565b61167e91906120df565b815181106116b5577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508681815181106116fa577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151602001518260016006846117169190612135565b61172091906120df565b81518110611757577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061179c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001516001600281106117e1577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260026006846117f69190612135565b61180091906120df565b81518110611837577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061187c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151600001516000600281106118c1577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260036006846118d69190612135565b6118e091906120df565b81518110611917577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200260200101818152505085818151811061195c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010151602001516001600281106119a1577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200201518260046006846119b69190612135565b6119c091906120df565b815181106119f7577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001018181525050858181518110611a3c577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002602001015160200151600060028110611a81577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020020151826005600684611a969190612135565b611aa091906120df565b81518110611ad7577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020026020010181815250508080611aee906121d9565b915050611617565b50611aff611c7f565b6000602082602086026020860160086107d05a03fa90508060008114611b2457611b26565bfe5b5080611b3157600080fd5b600082600060018110611b6d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602002015114159550505050505092915050565b6040518060600160405280611b94611bfb565b8152602001611ba1611c59565b8152602001611bae611bfb565b81525090565b6040518060a00160405280611bc7611bfb565b8152602001611bd4611c59565b8152602001611be1611c59565b8152602001611bee611c59565b8152602001606081525090565b604051806040016040528060008152602001600081525090565b6040518060600160405280600390602082028036833780820191505090505090565b6040518060800160405280600490602082028036833780820191505090505090565b6040518060400160405280611c6c611ca1565b8152602001611c79611ca1565b81525090565b6040518060200160405280600190602082028036833780820191505090505090565b6040518060400160405280600290602082028036833780820191505090505090565b6000611cd6611cd18461206d565b61203c565b90508082856040860282011115611cec57600080fd5b60005b85811015611d1c5781611d028882611e13565b845260208401935060408301925050600181019050611cef565b5050509392505050565b6000611d39611d3484612093565b61203c565b90508082856020860282011115611d4f57600080fd5b60005b85811015611d7f5781611d658882611f5a565b845260208401935060208301925050600181019050611d52565b5050509392505050565b6000611d9c611d97846120b9565b61203c565b90508082856020860282011115611db257600080fd5b60005b85811015611de25781611dc88882611f5a565b845260208401935060208301925050600181019050611db5565b5050509392505050565b600082601f830112611dfd57600080fd5b6002611e0a848285611cc3565b91505092915050565b600082601f830112611e2457600080fd5b6002611e31848285611d26565b91505092915050565b600082601f830112611e4b57600080fd5b6004611e58848285611d89565b91505092915050565b600060408284031215611e7357600080fd5b611e7d604061203c565b90506000611e8d84828501611f5a565b6000830152506020611ea184828501611f5a565b60208301525092915050565b600060808284031215611ebf57600080fd5b611ec9604061203c565b90506000611ed984828501611e13565b6000830152506040611eed84828501611e13565b60208301525092915050565b60006101008284031215611f0c57600080fd5b611f16606061203c565b90506000611f2684828501611e61565b6000830152506040611f3a84828501611ead565b60208301525060c0611f4e84828501611e61565b60408301525092915050565b600081359050611f69816122e0565b92915050565b6000806000806101808587031215611f8657600080fd5b6000611f9487828801611e13565b9450506040611fa587828801611dec565b93505060c0611fb687828801611e13565b925050610100611fc887828801611e3a565b91505092959194509250565b6000806101808385031215611fe857600080fd5b6000611ff685828601611ef9565b92505061010061200885828601611e3a565b9150509250929050565b61201b816121c3565b82525050565b60006020820190506120366000830184612012565b92915050565b6000604051905081810181811067ffffffffffffffff82111715612063576120626122b1565b5b8060405250919050565b600067ffffffffffffffff821115612088576120876122b1565b5b602082029050919050565b600067ffffffffffffffff8211156120ae576120ad6122b1565b5b602082029050919050565b600067ffffffffffffffff8211156120d4576120d36122b1565b5b602082029050919050565b60006120ea826121cf565b91506120f5836121cf565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561212a57612129612253565b5b828201905092915050565b6000612140826121cf565b915061214b836121cf565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561218457612183612253565b5b828202905092915050565b600061219a826121cf565b91506121a5836121cf565b9250828210156121b8576121b7612253565b5b828203905092915050565b60008115159050919050565b6000819050919050565b60006121e4826121cf565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82141561221757612216612253565b5b600182019050919050565b600061222d826121cf565b9150612238836121cf565b92508261224857612247612282565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6122e9816121cf565b81146122f457600080fd5b5056fea264697066735822122086be9e9d337aacce7f6d3a95e18afa9f366bae25f747c626ae6f9ddd6bb77fde64736f6c63430008000033a264697066735822122045f8a693b48cd0085a5ac4c3bf7960a298c884398c57721f778bc2756b85c33a64736f6c63430008000033"; 

var VECTOR_SIZE = 16;
var POPULATION_SIZE = 8;
var TOURNAMENT_SIZE = 2;

async function deploy_contract() {
    let initial_blocktime = $("#deploy-initial-blocktime").val();
    let blocktime_per_iteration = $("#deploy-blocktime-per-iteration").val();
    let maximum_iteration = $("#deploy-maximum-iteration").val();
    let token_per_win = $("#deploy-token-per-win").val();

    let signer = provider.getSigner(0);
    let factory = new ethers.ContractFactory(abi, bytecode, signer);
    let contract = await factory.deploy(String(initial_blocktime), String(blocktime_per_iteration), String(maximum_iteration), String(token_per_win));

    $("#status-deploy-contract").html('<b style="color:green;">The contract is deployed with the address: ' + contract.address + '</b>');
}

async function register() {
    let contract_address = $("#register-contract-address").val();

    let signer = provider.getSigner(0);
    let contract = new ethers.Contract(String(contract_address), abi, signer);

    population = []
    for (let index = 0; index < POPULATION_SIZE; index++) {
        let vector = Array.from({length: VECTOR_SIZE}, () => Math.floor(Math.random() * 2));
        population.push(vector);
    }

    population_compressed = btoa(JSON.stringify(population));

    population = population.map(vector => vector.map(item => item.toString()));

    let population_commitment = await zokrates_hash(population);
    population_commitment = JSON.parse(population_commitment);

    console.log(population_compressed);
    console.log(population_commitment);

    let transaction = await contract.register(String(population_commitment));
    
    $("#status-register").html('<b style="color:green;">You have registered: ' + transaction.hash + "." + 
                                                   '<br>Your population is ' + String(population_compressed));
}

// W1sxLDEsMCwxLDAsMCwwLDAsMCwwLDEsMSwxLDEsMSwxXSxbMCwxLDEsMSwwLDEsMSwwLDEsMSwwLDAsMCwwLDEsMV0sWzEsMCwwLDEsMSwxLDAsMSwxLDEsMSwxLDEsMSwxLDBdLFswLDAsMSwwLDAsMSwxLDAsMCwxLDEsMSwwLDAsMSwxXSxbMSwxLDAsMSwxLDAsMCwxLDAsMCwxLDAsMCwwLDEsMF0sWzEsMCwwLDEsMSwxLDAsMSwwLDEsMSwwLDAsMCwwLDFdLFsxLDAsMCwxLDAsMSwxLDAsMSwwLDAsMCwwLDEsMCwwXSxbMCwxLDEsMCwxLDEsMSwxLDAsMSwxLDEsMSwxLDEsMV1d
async function propose() {
    let contract_address = $("#propose-contract-address").val();
    let population = $("#propose-population").val();

    let signer = provider.getSigner(0);
    let contract = new ethers.Contract(String(contract_address), abi, signer);

    population = JSON.parse(atob(population));
    console.log("Population: " + population);
    
    let fitness_values = await evaluate_F2(population);
    let [candidates, parents] = await select_parents(population, fitness_values);
    let [cutoffs, children] = await apply_crossover(parents);
    let [flips, next_population] = await apply_mutation(children);
    let next_fitness_values = await evaluate_F2(next_population);
    let best_fitness_value = Math.min.apply(Math, next_fitness_values);

    candidates = candidates.map(vector => vector.map(item => item.toString()));
    cutoffs = cutoffs.map(String);
    flips = flips.map(String);

    population = population.map(vector => vector.map(item => item.toString()));
    let population_commitment = await zokrates_hash(population);
    population_commitment = JSON.parse(population_commitment);

    next_population = next_population.map(vector => vector.map(item => item.toString()));
    let next_population_commitment = await zokrates_hash(next_population);
    next_population_commitment = JSON.parse(next_population_commitment);
    next_population_compressed = btoa(JSON.stringify(next_population)); 

    console.log("Population: " + population);
    console.log("Fitness: " + fitness_values);
    console.log("Parents: " + candidates, parents);
    console.log("Children: " + cutoffs, children);
    console.log("Next Population: " + flips, next_population);
    console.log("Next Fitness: " + next_fitness_values, best_fitness_value);

    console.log("Next population compressed: " + next_population_compressed);

    console.log("Current population commitment: " + population_commitment);
    console.log("Next population commitment: " + next_population_commitment, next_population_compressed);

    console.time('Proof Generation Time');

    let [proof, output] = await zokrates_evolution_proof_f2(population, candidates, cutoffs, flips, String(population_commitment), String(next_population_commitment), String(best_fitness_value));

    console.timeEnd('Proof Generation Time');

    console.log(proof.proof.a);
    console.log(proof.proof.b);
    console.log(proof.proof.c);
    console.log(proof.inputs); 
    console.log(output);

    let transaction = await contract.proposeSolution(proof.proof.a, proof.proof.b, proof.proof.c, String(next_population_commitment), String(best_fitness_value));
    
    $("#status-propose").html('<b style="color:green;">You have proposed the solution: ' + transaction.hash + "." +
                                                  '<br>Your population is ' + next_population_compressed + '</b>');
}

async function claim() {
    let contract_address = $("#claim-contract-address").val();

    let signer = provider.getSigner(0);
    let contract = new ethers.Contract(String(contract_address), abi, signer);

    let transaction = await contract.countWins();

    $("#status-claim").html('<b style="color:green;">You have claimed your wins: ' + transaction.hash + '</b>');
}

async function evaluate_F1(population) {
    let fitness_values = [];

    for (let i = 0; i < POPULATION_SIZE; i++) {
        let fitness_value = 0;

        for (let j = 0; j < VECTOR_SIZE; j++) {
            fitness_value += population[i][j] * population[i][j];
        }

        fitness_values.push(fitness_value);
    }
    return fitness_values;
}

async function evaluate_F2(population) {
    let fitness_values = [];

    for (let i = 0; i < POPULATION_SIZE; i++) {
        let fitness_value = 0;

        for (let j = 0; j < VECTOR_SIZE-1; j++) {
            fitness_value += 100 * (population[i][j+1] - population[i][j] * population[i][j]) * (population[i][j+1] - population[i][j] * population[i][j]);
            fitness_value += (1 - population[i][j]) * (1 - population[i][j]);
        }

        fitness_values.push(fitness_value);
    }
    return fitness_values;
}

async function select_parents(population, fitness_values) {
    let candidates = [];
    let parents = [];
    for (let i = 0; i < POPULATION_SIZE; i++) {
        let candidate = Array.from({length: TOURNAMENT_SIZE}, () => Math.floor(Math.random() * POPULATION_SIZE));
        candidates.push(candidate);
    }

    for (let i = 0; i < POPULATION_SIZE; i++) {

        let best_fitness_value = 4294967295;
        let best_fitness_index = 0;

        for (let j = 0; j < TOURNAMENT_SIZE; j++) {
            if (fitness_values[candidates[i][j]] < best_fitness_value) {
                best_fitness_value = fitness_values[candidates[i][j]]
                best_fitness_index = j;
            }
        }

        parents.push(population[candidates[i][best_fitness_index]]);
    }

    return [candidates, parents];
}

async function apply_crossover(parents) {
    let children = [];
    let cutoffs = Array.from({length: POPULATION_SIZE}, () => Math.floor(Math.random() * (VECTOR_SIZE - 1)) + 1);

    for (let i = 0; i < POPULATION_SIZE/2; i++) {
        child1 = [];
        child2 = [];
        for (let j = 0; j < VECTOR_SIZE; j++) {
            if (j <= cutoffs[i]) {
                child1.push(parents[2*i][j]); 
                child2.push(parents[2*i+1][j]);
            } else {
                child1.push(parents[2*i+1][j]); 
                child2.push(parents[2*i][j]);
            }
        }
        children.push(child1);
        children.push(child2);
    }

    return [cutoffs, children];
}

async function apply_mutation(children) {
    let next_population = [];
    let flips = Array.from({length: POPULATION_SIZE}, () => Math.floor(Math.random() * VECTOR_SIZE));

    for (let i = 0; i < POPULATION_SIZE; i++) {
        child = children[i].slice();
        child[flips[i]] = 1 - child[flips[i]];
        next_population.push(child);
    }

    return [flips, next_population];
}
